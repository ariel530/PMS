<!-- jQuery -->
<script src="~/CustomDesigning/plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="~/CustomDesigning/plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 --> 
<script src="~/CustomDesigning/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
@*<script src="~/CustomDesigning/plugins/chart.js/Chart.min.js"></script>*@
<!-- Sparkline -->
@*<script src="~/CustomDesigning/plugins/sparklines/sparkline.js"></script>*@
<!-- JQVMap -->
@*<script src="~/CustomDesigning/plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="~/CustomDesigning/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>*@
<!-- jQuery Knob Chart -->
@*<script src="~/CustomDesigning/plugins/jquery-knob/jquery.knob.min.js"></script>*@
<!-- daterangepicker -->
<script src="~/CustomDesigning/plugins/moment/moment.min.js"></script>
<script src="~/CustomDesigning/plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="~/CustomDesigning/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="~/CustomDesigning/plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="~/CustomDesigning/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="~/CustomDesigning/dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="~/CustomDesigning/dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
@*<script src="~/CustomDesigning/dist/js/pages/dashboard.js"></script>*@



<!-- Select2 -->
<script src="~/CustomDesigning/plugins/select2/js/select2.full.min.js"></script>
<!-- Bootstrap4 Duallistbox -->
<script src="~/CustomDesigning/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="~/CustomDesigning/plugins/moment/moment.min.js"></script>
<script src="~/CustomDesigning/plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="~/CustomDesigning/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="~/CustomDesigning/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Bootstrap Switch -->
<script src="~/CustomDesigning/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="~/CustomDesigning/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="~/CustomDesigning/plugins/dropzone/min/dropzone.min.js"></script>
<!-- Page specific script -->
<!-- jquery-validation -->
<script src="~/CustomDesigning/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="~/CustomDesigning/plugins/jquery-validation/additional-methods.min.js"></script>

<!-- FilePond Jquery Js -->
<script src="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.js"></script>
<script src="https://unpkg.com/filepond/dist/filepond.min.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.js"></script>


<!-- DataTables  & Plugins -->
<script src="~/CustomDesigning/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="~/CustomDesigning/plugins/jszip/jszip.min.js"></script>
<script src="~/CustomDesigning/plugins/pdfmake/pdfmake.min.js"></script>
<script src="~/CustomDesigning/plugins/pdfmake/vfs_fonts.js"></script>
<script src="~/CustomDesigning/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="~/CustomDesigning/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<!-- SweetAlert2 -->
<script src="~/CustomDesigning/plugins/sweetalert2/sweetalert2.min.js"></script>
<!-- Toastr -->
<script src="~/CustomDesigning/plugins/toastr/toastr.min.js"></script>



<!-- SweetAlert2 -->
<script src="~/CustomDesigning/plugins/sweetalert2/sweetalert2.min.js"></script>
<!-- Toastr -->
<script src="~/CustomDesigning/plugins/toastr/toastr.min.js"></script>



<!--Reference the SignalR library. -->
<script src="~/Scripts/jquery.signalR-2.4.2.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<!--SignalR script to update the chat page and send messages.-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/emojionearea/3.4.2/emojionearea.js" integrity="sha512-aGWPnmdBhJ0leVHhQaRASgb0InV/Z2BWsscdj1Vwt29Oic91wECPixuXsWESpFfCcYPLfOlBZzN2nqQdMxlGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/1.1.1/typed.min.js"></script>

@*sweet alert 2.0*@
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>






<script type="text/javascript">
    $(function () {
       // setTimeout(function () {
         //   setInterval(function () {
        //$.connection.hub.start()
        //    .done(function () {
        //        // Proxy created on the fly
        //        //   var messageNotificationHubConnection = $.connection.messageUserHub;
        //  //      console.log("SDFSDFSDF1");
        //      //  chat1.server.sendTypingMessageRequest("DANISH");
        //        // Declare a function on the job hub so the server can invoke it

        //    })
        //    .fail(function () {
        //        console.log("fail to load");
        //     //   alert("Conenectuion fail")
        //    });

         //   getMessageNotificationData();
       // }, 5000);
        //getMessageNotificationData();

   //     var chat1 = $.connection.messageUserHub;

        // Start the connection
        //chat1.client.displayMessagesNotification = function () {
        //    //     alert(messagesNotifications);
        //    console.log("SDFSDFSDF");
        //    alert("Enter hub");
        //    getMessageNotificationData();
        //};
    });


    //<a href="#" class="dropdown-item">
    //    <!-- Message Start -->
    //                <div class="media">
    //        <img src="~/CustomDesigning/dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle">
    //            <div class="media-body">
    //                <h3 class="dropdown-item-title">
    //                    Brad Diesel
    //                            <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
    //                </h3>
    //                <p class="text-sm">Call me whenever you can...</p>
    //                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
    //            </div>
    //                </div>
    //        <!-- Message End -->
    //            </a>
    //    <div class="dropdown-divider"></div>



    function getMessageNotificationData() {
        //alert("E ajax");
        var notificationDropdownList = $('#messagesNotificationsDropdown');
        notificationDropdownList.empty();
             $.ajax({
                type: "POST",
                url: '@Url.Action("GetCustomersForMapCount","ClientDashboard")',
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (responseData) {
                    if (responseData != null && responseData.messagesNotifications != null) {
                        var resultList = JSON.parse(responseData.messagesNotifications);
                      //  alert(resultList);
                        var numberOfUnreadMessages = JSON.parse(responseData.numberOfUnreadMessages);
                        if (resultList.length == 0) {
                            notificationDropdownList.append('<a href = "#" class="dropdown-item dropdown-footer" >No New Messages</a>');
                            notificationDropdownList.append('<div class="dropdown-divider"></div>');
                        }
                        $('#numberOfUnreadMessages').html(numberOfUnreadMessages);
                        for (var i = 0, size = resultList.length; i < size; i++) {
                            var item = resultList[i];
                        //    alert(item['Id'] + " " + item['Message']);
                            if (item['Message'].length > 24) {
                                item['Message']=item['Message'].substring(0, 24) + "...";
                            }
                            var data = '<a href="#" class="dropdown-item">'
                                + '<div class="media">'
                                + '<img src="/CustomerImages/' + item["ImagePath"] + '" alt="User Avatar" class="img-size-50 mr-3 img-circle">'
                                + '<div class="media-body">'
                                + '<h3 class="dropdown-item-title">'
                                + item['AddedBy']
                                + '<span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>'
                                + '</h3>'
                                + '<p class="text-sm">' + item['Message']+ '</p>'
                                + '<p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> '+item['AddedOn']+'</p>'
                                + '</div>'
                                + '</div>'
                                + '</a>'
                                +'<div class="dropdown-divider"></div>';
                            notificationDropdownList.append(data);
                        }
                        notificationDropdownList.append('<a href = "#" class="dropdown-item dropdown-footer" > <b>See All Messages</b></a>');
                    }

                },
                error: function (responseData) {

                }
            });
      //  alert("X ajax");

    }
</script>